# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

# –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏

**–¢–µ–º–∞:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Telegram-–±–æ—Ç–∞ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–∏—ë–º–µ –ª–µ–∫–∞—Ä—Å—Ç–≤

---

## 1. –í–≤–µ–¥–µ–Ω–∏–µ

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π:

-   –ù–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏—ë–º–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤
-   –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞
-   –ò–º–µ–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

-   `Python 3.11` + `python-telegram-bot 20.3`
-   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: `SQLite3`
-   –•–æ—Å—Ç–∏–Ω–≥: `Railway`

---

## 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 2.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–∞–±–ª–∏—Ü–∞ `reminders`:

```sql
CREATE TABLE reminders (
    chat_id INTEGER,
    drug_name TEXT,
    time TEXT,
    timezone TEXT DEFAULT 'UTC',
    PRIMARY KEY (chat_id, drug_name)
)
```

### 2.2. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:

```python
async def add_reminder(update: Update, context: ContextTypes.DEFAULT_TYPE):
    chat_id = update.message.chat_id
    drug_name = context.args[0]  # /add –ê—Å–ø–∏—Ä–∏–Ω 08:00
    drug_time = context.args[1]
    add_to_db(chat_id, drug_name, drug_time)
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:

```python
async def check_reminders(context: ContextTypes.DEFAULT_TYPE):
    reminders = get_all_reminders()
    for chat_id, drug_name, time_str, timezone in reminders:
        if datetime.now(pytz.timezone(timezone)).strftime("%H:%M") == time_str:
            await context.bot.send_message(chat_id, f"üîî –ü–æ—Ä–∞ –ø—Ä–∏–Ω—è—Ç—å {drug_name}!")
```

### 2.3. –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞     | –û–ø–∏—Å–∞–Ω–∏–µ                | –ü—Ä–∏–º–µ—Ä                    |
| ----------- | ----------------------- | ------------------------- |
| `/start`    | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ             | -                         |
| `/add`      | –î–æ–±–∞–≤–∏—Ç—å –ª–µ–∫–∞—Ä—Å—Ç–≤–æ      | `/add –ê—Å–ø–∏—Ä–∏–Ω 08:00`      |
| `/del`      | –£–¥–∞–ª–∏—Ç—å –ª–µ–∫–∞—Ä—Å—Ç–≤–æ       | `/del –ê—Å–ø–∏—Ä–∏–Ω`            |
| `/timezone` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å | `/timezone Europe/Moscow` |

---

## 3. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 3.1. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Railway

1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ [Railway](https://railway.app/)
2. –£–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
    ```env
    TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
    ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π –∏–∑ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### 3.2. –õ–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞

```log
[INFO] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
[INFO]–ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
```

---

## 4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–∞–±–æ—Ç—ã

![–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è](img/add.png)  
_–†–∏—Å. 1: –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `/add`_

![–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ](img/work.png)
_–†–∏—Å. 2: –ü—Ä–∏–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è_

---

## 5. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ò—Ç–æ–≥–∏:**

-   –ë–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
-   –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 50+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
-   –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ ‚Äî 0.3 —Å–µ–∫

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/example/pills-reminder-bot).

### –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ê–≤—Ç–æ—Ä: –ò–≤–∞–Ω–æ–≤ –ò.–ò.  
Email: example@university.ru
